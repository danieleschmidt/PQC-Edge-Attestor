# PQC-Edge-Attestor Environment Configuration
# Copy this file to .env and update with your actual values

# Application Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info

# Security Configuration
JWT_SECRET=your-super-secure-jwt-secret-change-in-production
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-change-in-production

# Database Configuration
# PostgreSQL (Primary Database)
DATABASE_URL=postgresql://username:password@localhost:5432/pqc_attestor
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pqc_attestor
DB_USER=username
DB_PASSWORD=password
DB_SSL=false
DB_POOL_SIZE=10

# Redis (Caching and Sessions)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# Cryptographic Configuration
CRYPTO_PROVIDER=software
DEFAULT_KEM_ALGORITHM=kyber1024
DEFAULT_SIGNATURE_ALGORITHM=dilithium5
ENABLE_HYBRID_MODE=true
CRYPTO_SECURITY_LEVEL=5
CRYPTO_KEY_CACHE_TTL=7200

# TPM Configuration
TPM_DEVICE_PATH=/dev/tpm0
TPM_OWNER_PASSWORD=
TPM_SRK_PASSWORD=
ENABLE_TPM_ATTESTATION=true
TPM_PCR_BANKS=sha256,sha384

# Hardware Security Module (HSM)
HSM_ENABLED=false
HSM_PROVIDER=softhsm
HSM_SLOT=0
HSM_PIN=1234
HSM_LABEL=pqc-attestor

# Certificate Authority Configuration
CA_CERT_PATH=./certs/ca-cert.pem
CA_KEY_PATH=./certs/ca-key.pem
CA_INTERMEDIATE_CERT_PATH=./certs/intermediate-cert.pem
CA_INTERMEDIATE_KEY_PATH=./certs/intermediate-key.pem
CERT_VALIDITY_DAYS=365
ENABLE_OCSP=false

# Device Management
DEVICE_REGISTRY_BACKEND=database
DEVICE_PROVISIONING_TIMEOUT=300
MAX_DEVICES_PER_TENANT=1000
DEVICE_HEARTBEAT_INTERVAL=60

# Attestation Configuration
ATTESTATION_REPORT_MAX_AGE=300
ATTESTATION_RISK_THRESHOLD=0.5
ATTESTATION_CACHE_TTL=300
ENABLE_BATCH_VERIFICATION=true
PARALLEL_VERIFICATION_LIMIT=10

# Network Configuration
ENABLE_TLS=true
TLS_CERT_PATH=./certs/server-cert.pem
TLS_KEY_PATH=./certs/server-key.pem
TLS_CA_PATH=./certs/ca-cert.pem
ENABLE_MUTUAL_TLS=false

# CoAP Configuration
COAP_PORT=5683
COAPS_PORT=5684
COAP_MAX_PAYLOAD_SIZE=1024
ENABLE_COAP_DTLS=true

# MQTT Configuration
MQTT_BROKER_URL=mqtt://localhost:1883
MQTT_CLIENT_ID=pqc-attestor
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_KEEPALIVE=60
ENABLE_MQTT_TLS=true

# OTA Update Configuration
OTA_ENABLED=true
OTA_STORAGE_PATH=./ota/packages
OTA_MAX_PACKAGE_SIZE=104857600
OTA_SIGNATURE_ALGORITHM=falcon1024
OTA_ROLLBACK_ENABLED=true
OTA_VERIFICATION_TIMEOUT=30

# Monitoring and Observability
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics
ENABLE_TRACING=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Logging Configuration
LOG_DIR=./logs
LOG_MAX_FILES=5
LOG_MAX_SIZE=10m
ENABLE_CONSOLE_LOGGING=true
ENABLE_FILE_LOGGING=true
ENABLE_SECURITY_LOGGING=true
ENABLE_AUDIT_LOGGING=true
SYSLOG_HOST=
SYSLOG_PORT=514

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_STRICT_MAX=10
ENABLE_RATE_LIMITING=true

# CORS Configuration
CORS_ORIGIN=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Device-ID

# API Configuration
API_VERSION=v1
API_PREFIX=/api
ENABLE_API_DOCS=true
API_DOCS_PATH=/docs
MAX_REQUEST_SIZE=10mb

# Security Headers
ENABLE_HELMET=true
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self'

# Performance Configuration
ENABLE_COMPRESSION=true
ENABLE_KEEP_ALIVE=true
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000

# Development Configuration
ENABLE_DEBUG=false
DEBUG_NAMESPACES=pqc:*
ENABLE_MOCK_HARDWARE=true
MOCK_TPM_RESPONSES=true

# Testing Configuration
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/pqc_attestor_test
TEST_REDIS_URL=redis://localhost:6379/1
ENABLE_TEST_FIXTURES=true
TEST_TIMEOUT=30000

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# Integration Configuration
# GitHub API (for issue tracking)
GITHUB_TOKEN=
GITHUB_REPO=danieleschmidt/PQC-Edge-Attestor

# Slack Notifications
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#security-alerts

# Email Notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@example.com
SMTP_TLS=true

# External Services
# Certificate Transparency Log
CT_LOG_URL=https://ct.googleapis.com/rocketeer/
ENABLE_CT_LOGGING=false

# Time Stamping Authority
TSA_URL=http://timestamp.digicert.com
ENABLE_TIMESTAMPING=false

# Vulnerability Database
VULN_DB_URL=https://vulndb.cyberriskanalytics.com
VULN_DB_API_KEY=

# Compliance Configuration
ENABLE_FIPS_MODE=false
ENABLE_CC_MODE=false
COMPLIANCE_LEVEL=none

# Hardware Platform Specific
TARGET_PLATFORM=x86_64
ARM_TOOLCHAIN_PATH=/opt/arm-gnu-toolchain
CROSS_COMPILE_PREFIX=arm-linux-gnueabihf-

# Container Configuration
CONTAINER_REGISTRY=docker.io
CONTAINER_NAMESPACE=pqc-attestor
CONTAINER_TAG=latest

# Kubernetes Configuration
K8S_NAMESPACE=pqc-attestor
K8S_CONFIG_PATH=~/.kube/config
ENABLE_K8S_DEPLOYMENT=false

# Feature Flags
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_QUANTUM_SAFE_TLS=true
ENABLE_HYBRID_CRYPTO=true
ENABLE_BATCH_OPERATIONS=true
ENABLE_CACHING=true

# Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System under maintenance"
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1